@import 'tailwindcss';

@variant dark (&:is(.dark, .dark *));

@theme {
    /* Font families */
    --font-family-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
    --font-family-mono: var(--font-jetbrains-mono), ui-monospace, monospace;

    /* Keyframes */
    --keyframes-spin-reverse: spin-reverse;
    --keyframes-spin-slow: spin-slow;

    /* Animations */
    --animate-spin-reverse: spin-reverse 1s linear infinite;
    --animate-spin-slow: spin-slow 8s linear infinite;
}

@keyframes spin-reverse {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(-360deg);
    }
}

@keyframes spin-slow {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

::selection {
    background-color: #47a3f3;
    color: #fefefe;
}

:root {
    /* Syntax highlighting colors */
    --sh-class: #6c63ff;
    --sh-identifier: #2b2d42;
    --sh-sign: #6c757d;
    --sh-string: #ff8c42;
    --sh-keyword: #0077b6;
    --sh-comment: #8d99ae;
    --sh-jsxliterals: #ff6f91;
    --sh-property: #00bfa6;
    --sh-entity: #118ab2;
    /* Font families */
    --font-roboto: 'Roboto', sans-serif;
    --font-monaspace: 'Monaspace', monospace;
    --font-playfair: 'Playfair Display', serif;
    --font-noto-serif: 'Noto Serif', serif;
}

.dark {
    --sh-class: #c77dff;
    --sh-identifier: #e0e1dd;
    --sh-sign: #9aa4b2;
    --sh-string: #f4d35e;
    --sh-keyword: #5bc0be;
    --sh-comment: #7a869a;
    --sh-jsxliterals: #ee6c4d;
    --sh-property: #00c9a7;
    --sh-entity: #f08a5d;
}

html {
    min-width: 360px;
}

body {
    text-rendering: optimizeLegibility;
    font-family: var(--font-roboto);
    font-size: 16px; /* Mobile-first: prevents iOS zoom on inputs */
    line-height: 1.6;
    @apply md:text-lg; /* 18px on desktop */
}

/* Typography */
h1,
h2,
h3,
h4 {
    text-wrap: balance;
    font-family: var(--font-playfair);
}

h1 {
    @apply text-3xl md:text-4xl;
}
h2 {
    @apply text-2xl md:text-3xl;
}
h3 {
    @apply text-xl md:text-2xl;
}
h4 {
    @apply text-lg;
}
p {
    @apply mb-4 text-base md:text-lg; /* 16px mobile, 18px desktop - matches body */
}

ul,
ol {
    @apply ml-5 mb-4 list-disc;
}

blockquote {
    font-family: var(--font-noto-serif);
    line-height: 1.7;
}

blockquote cite {
    @apply block mt-3 text-sm not-italic text-neutral-600 dark:text-neutral-400;
    font-family: var(--font-roboto);
}

mark {
    padding: 0.2em 0.4em;
    font-weight: 500;
    line-height: 1.5;
}

blockquote mark {
    padding: 0;
    text-wrap: balance;
    font-style: italic;
}

hr {
    color: var(--color-neutral-200);
}

/* Form inputs */
input[type='text'],
input[type='email'] {
    appearance: none;
}

table {
    display: block;
    max-width: fit-content;
    overflow-x: auto;
    white-space: nowrap;
}

/* View transitions */
.transition-element {
    view-transition-name: lee;
}

::view-transition-old(lee) {
    animation: fade-out 0.8s ease-in-out;
}

::view-transition-new(lee) {
    animation: fade-in-up 0.4s ease-in-out;
}

/* Post components */
.post-title {
    @apply text-neutral-900 dark:text-neutral-400 mt-6 font-bold text-2xl md:text-3xl;
}

.group:hover .post-title {
    @apply text-neutral-900;
}

.dark .group:hover .post-title {
    color: white;
}

.post-summary {
    font-family: var(--font-playfair);
    @apply text-neutral-500 dark:text-neutral-400;
}

.post-date {
    @apply text-neutral-400 dark:text-neutral-500 text-sm;
}

.metadataart {
    @apply text-neutral-500 dark:text-neutral-400;
}

/* Web/CLI components */
.webroot {
    @apply text-neutral-600 dark:text-neutral-500;
}

.webcommand,
.webcontentroot {
    @apply text-neutral-800 dark:text-neutral-300;
}

.websub {
    @apply text-neutral-500 dark:text-neutral-400;
}

.webformat {
    @apply text-neutral-300 dark:text-neutral-600;
}

.webcontent {
    @apply transition-all text-neutral-700 dark:text-neutral-300 hover:text-neutral-900 dark:hover:text-white;
}

/* Code blocks */
code,
pre {
    font-family: var(--font-monaspace);
}

.token.class-name {
    color: var(--sh-class);
}
.token.function,
.token.entity {
    color: var(--sh-entity);
}
.token.keyword {
    color: var(--sh-keyword);
}
.token.string,
.token.template-string {
    color: var(--sh-string);
}
.token.number,
.token.constant {
    color: var(--sh-property);
}
.token.punctuation,
.token.operator {
    color: var(--sh-sign);
}
.token.comment {
    color: var(--sh-comment);
    font-style: italic;
}
.token.jsx-tag,
.token.tag {
    color: var(--sh-jsxliterals);
}
